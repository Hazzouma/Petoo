{"ast":null,"code":"import { CURRENT_USER } from \"../actionTypes\";\nimport axios from \"axios\";\nexport const current = () => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        authorization: localStorage.getItem(\"token\")\n      }\n    };\n    let result = await axios.get(`${process.env.PUBLIC_URL}/api/dashboard/default/current`, config); // console.log(result.data.userLogged);\n\n    dispatch({\n      type: CURRENT_USER,\n      payload: result.data\n    }); //{msg , user}\n  } catch (error) {\n    localStorage.removeItem(\"token\");\n    window.location.href = `${process.env.PUBLIC_URL}/login`;\n  }\n};","map":{"version":3,"sources":["C:/Users/abirb/OneDrive/Bureau/Petoo/Petoo/frontend/src/redux/currentUser/action.js"],"names":["CURRENT_USER","axios","current","dispatch","config","headers","authorization","localStorage","getItem","result","get","process","env","PUBLIC_URL","type","payload","data","error","removeItem","window","location","href"],"mappings":"AAAA,SAASA,YAAT,QAA6B,gBAA7B;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,OAAO,GAAG,MAAM,MAAOC,QAAP,IAAoB;AAC/C,MAAI;AACF,UAAMC,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADR;AADI,KAAf;AAKA,QAAIC,MAAM,GAAG,MAAMR,KAAK,CAACS,GAAN,CAChB,GAAEC,OAAO,CAACC,GAAR,CAAYC,UAAW,gCADT,EAEjBT,MAFiB,CAAnB,CANE,CAUF;;AACAD,IAAAA,QAAQ,CAAC;AAAEW,MAAAA,IAAI,EAAEd,YAAR;AAAsBe,MAAAA,OAAO,EAAEN,MAAM,CAACO;AAAtC,KAAD,CAAR,CAXE,CAWsD;AACzD,GAZD,CAYE,OAAOC,KAAP,EAAc;AACdV,IAAAA,YAAY,CAACW,UAAb,CAAwB,OAAxB;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAwB,GAAEV,OAAO,CAACC,GAAR,CAAYC,UAAW,QAAjD;AACD;AACF,CAjBM","sourcesContent":["import { CURRENT_USER } from \"../actionTypes\";\r\n\r\nimport axios from \"axios\";\r\n\r\nexport const current = () => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        authorization: localStorage.getItem(\"token\"),\r\n      },\r\n    };\r\n    let result = await axios.get(\r\n      `${process.env.PUBLIC_URL}/api/dashboard/default/current`,\r\n      config\r\n    );\r\n    // console.log(result.data.userLogged);\r\n    dispatch({ type: CURRENT_USER, payload: result.data }); //{msg , user}\r\n  } catch (error) {\r\n    localStorage.removeItem(\"token\");\r\n    window.location.href = `${process.env.PUBLIC_URL}/login`;\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}