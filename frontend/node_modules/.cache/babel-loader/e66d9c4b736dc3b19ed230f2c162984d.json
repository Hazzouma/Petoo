{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abirb\\\\Downloads\\\\Petoo\\\\petoo-master\\\\client\\\\src\\\\pages\\\\authentication\\\\forgetpwd.jsx\";\nimport React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport logo from \"../../assets/images/logo/login.png\";\nimport { Container, Row, Col, Form, FormGroup, Label, Input, Button } from \"reactstrap\";\nimport { NewPassword, RetypePassword, Done, EnterOTP, Resend, ResetPassword, SignIn, Send, EmailAddress, PasswordMismatch } from \"../../constant\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { resetPassword, validOTP, videErrors } from \"../../redux/authentification/action\";\n\nconst Forgetpwd = props => {\n  const dispatch = useDispatch();\n  const [togglePassword, setTogglePassword] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [openDone, setOpenDone] = useState(true);\n  const [otp1, setOtp1] = useState(\"\");\n  const [otp2, setOtp2] = useState(\"\");\n  const [otp3, setOtp3] = useState(\"\");\n  const [pass2, setPass2] = useState(\"\");\n\n  const getOtp1 = e => {\n    setOtp1(e.target.value);\n  };\n\n  const getOtp2 = e => {\n    setOtp2(e.target.value);\n  };\n\n  const getOtp3 = e => {\n    setOtp3(e.target.value);\n  };\n\n  const getPass2 = e => {\n    setPass2(e.target.value);\n  };\n\n  const [email, setEmail] = useState(\"\");\n\n  const getEmail = e => setEmail(e.target.value);\n\n  const sendMail = () => {\n    dispatch(resetPassword(email));\n    setOpenDone(false);\n  };\n\n  let validEmail = useSelector(state => state.userReducer.user); // console.log(validEmail);\n\n  const confirmOTP = () => {\n    if (password === pass2) //check matchi matchi password\n      dispatch(validOTP(validEmail, otp1 + otp2 + otp3, password, props.history));else console.log(\"le\");\n  };\n\n  const handleChange = e => {\n    setPassword(e.target.value);\n  };\n\n  const HideShowPassword = tPassword => {\n    setTogglePassword(!tPassword);\n  };\n\n  const [sendResetEmail, setSendResetEmail] = useState(false);\n  const successSendMail = useSelector(state => state.userReducer.msg);\n  const arrErrors = useSelector(state => state.userReducer.errors); // console.log(arrErrors);\n\n  useEffect(() => {\n    if (successSendMail) {\n      toast.success(successSendMail, {\n        position: toast.POSITION.TOP_RIGHT,\n        autoClose: 15000 //stay 15 secondes\n\n      });\n      console.log(\"successSendMail\");\n      setSendResetEmail(true);\n      setTimeout(function () {\n        setSendResetEmail(false);\n      }, 15000); // 3 minutes\n\n      dispatch(videErrors());\n    } else if (arrErrors.length > 0) {\n      arrErrors.forEach(el => {\n        toast.error(el.msg, {\n          position: toast.POSITION.TOP_RIGHT,\n          autoClose: 5000\n        });\n      });\n      dispatch(videErrors());\n    }\n  }, [successSendMail, arrErrors]);\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"logo\",\n    href: \"#javascript\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-fluid for-light\",\n    src: logo,\n    alt: \"looginpage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-fluid for-dark\",\n    src: require(\"../../assets/images/logo/logo_dark.png\"),\n    alt: \"looginpage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    className: \"theme-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 19\n    }\n  }, ResetPassword), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 23\n    }\n  }, EmailAddress), /*#__PURE__*/React.createElement(Input, {\n    className: \"form-control\",\n    placeholder: \"test@gmail.com\",\n    onChange: e => getEmail(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    className: \"btn-block m-t-10\" // type='submit'\n    ,\n    disabled: sendResetEmail,\n    onClick: () => sendMail(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }, Send)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mt-4 mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"reset-password-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }, \"If don't receive OTP?\", \"\\xA0\\xA0\", /*#__PURE__*/React.createElement(\"a\", {\n    className: \"btn-link text-danger\",\n    href: \"#javascript\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 23\n    }\n  }, Resend))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"col-form-label pt-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  }, EnterOTP), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    className: \"form-control text-center opt-text\",\n    type: \"text\",\n    placeholder: \"00\",\n    maxLength: \"2\",\n    onChange: e => {\n      getOtp1(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    className: \"form-control text-center opt-text\",\n    type: \"text\",\n    placeholder: \"00\",\n    maxLength: \"2\",\n    onChange: e => {\n      getOtp2(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    className: \"form-control text-center opt-text\",\n    type: \"text\",\n    placeholder: \"00\",\n    maxLength: \"2\",\n    onChange: e => {\n      getOtp3(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 19\n    }\n  }, \"Create Your Password\"), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 21\n    }\n  }, NewPassword), /*#__PURE__*/React.createElement(Input, {\n    className: \"form-control\",\n    type: togglePassword ? \"text\" : \"password\",\n    name: \"login[password]\",\n    value: password,\n    onChange: e => handleChange(e),\n    required: \"\",\n    placeholder: \"*********\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"show-hide\",\n    onClick: () => HideShowPassword(togglePassword),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: togglePassword ? \"\" : \"show\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 21\n    }\n  }, password === pass2 ? RetypePassword : /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 25\n    }\n  }, PasswordMismatch)), /*#__PURE__*/React.createElement(Input, {\n    className: \"form-control\",\n    type: \"password\",\n    name: \"login[password]\",\n    required: \"\",\n    placeholder: \"*********\",\n    onChange: e => getPass2(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    className: \"btn-block\",\n    disabled: openDone,\n    onClick: () => confirmOTP(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 21\n    }\n  }, Done)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mt-4 mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 19\n    }\n  }, \"Already have an password?\", /*#__PURE__*/React.createElement(Link, {\n    className: \"ml-2\",\n    to: \"/cuba/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 21\n    }\n  }, SignIn)))))))));\n};\n\nexport default Forgetpwd;","map":{"version":3,"sources":["C:/Users/abirb/Downloads/Petoo/petoo-master/client/src/pages/authentication/forgetpwd.jsx"],"names":["React","useEffect","Link","logo","Container","Row","Col","Form","FormGroup","Label","Input","Button","NewPassword","RetypePassword","Done","EnterOTP","Resend","ResetPassword","SignIn","Send","EmailAddress","PasswordMismatch","useState","useDispatch","useSelector","toast","resetPassword","validOTP","videErrors","Forgetpwd","props","dispatch","togglePassword","setTogglePassword","password","setPassword","openDone","setOpenDone","otp1","setOtp1","otp2","setOtp2","otp3","setOtp3","pass2","setPass2","getOtp1","e","target","value","getOtp2","getOtp3","getPass2","email","setEmail","getEmail","sendMail","validEmail","state","userReducer","user","confirmOTP","history","console","log","handleChange","HideShowPassword","tPassword","sendResetEmail","setSendResetEmail","successSendMail","msg","arrErrors","errors","success","position","POSITION","TOP_RIGHT","autoClose","setTimeout","length","forEach","el","error","require","color"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport logo from \"../../assets/images/logo/login.png\";\nimport {\n  Container,\n  Row,\n  Col,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  Button,\n} from \"reactstrap\";\nimport {\n  NewPassword,\n  RetypePassword,\n  Done,\n  EnterOTP,\n  Resend,\n  ResetPassword,\n  SignIn,\n  Send,\n  EmailAddress,\n  PasswordMismatch,\n} from \"../../constant\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport {\n  resetPassword,\n  validOTP,\n  videErrors,\n} from \"../../redux/authentification/action\";\n\nconst Forgetpwd = (props) => {\n  const dispatch = useDispatch();\n  const [togglePassword, setTogglePassword] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [openDone, setOpenDone] = useState(true);\n  const [otp1, setOtp1] = useState(\"\");\n  const [otp2, setOtp2] = useState(\"\");\n  const [otp3, setOtp3] = useState(\"\");\n\n  const [pass2, setPass2] = useState(\"\");\n\n  const getOtp1 = (e) => {\n    setOtp1(e.target.value);\n  };\n  const getOtp2 = (e) => {\n    setOtp2(e.target.value);\n  };\n  const getOtp3 = (e) => {\n    setOtp3(e.target.value);\n  };\n  const getPass2 = (e) => {\n    setPass2(e.target.value);\n  };\n  const [email, setEmail] = useState(\"\");\n  const getEmail = (e) => setEmail(e.target.value);\n\n  const sendMail = () => {\n    dispatch(resetPassword(email));\n    setOpenDone(false);\n  };\n  let validEmail = useSelector((state) => state.userReducer.user);\n  // console.log(validEmail);\n  const confirmOTP = () => {\n    if (password === pass2)\n      //check matchi matchi password\n      dispatch(\n        validOTP(validEmail, otp1 + otp2 + otp3, password, props.history)\n      );\n    else console.log(\"le\");\n  };\n  const handleChange = (e) => {\n    setPassword(e.target.value);\n  };\n  const HideShowPassword = (tPassword) => {\n    setTogglePassword(!tPassword);\n  };\n  const [sendResetEmail, setSendResetEmail] = useState(false);\n\n  const successSendMail = useSelector((state) => state.userReducer.msg);\n  const arrErrors = useSelector((state) => state.userReducer.errors);\n  // console.log(arrErrors);\n  useEffect(() => {\n    if (successSendMail) {\n      toast.success(successSendMail, {\n        position: toast.POSITION.TOP_RIGHT,\n        autoClose: 15000, //stay 15 secondes\n      });\n      console.log(\"successSendMail\");\n      setSendResetEmail(true);\n      setTimeout(function () {\n        setSendResetEmail(false);\n      }, 15000); // 3 minutes\n      dispatch(videErrors());\n    } else if (arrErrors.length > 0) {\n      arrErrors.forEach((el) => {\n        toast.error(el.msg, {\n          position: toast.POSITION.TOP_RIGHT,\n          autoClose: 5000,\n        });\n      });\n      dispatch(videErrors());\n    }\n  }, [successSendMail, arrErrors]);\n  return (\n    <Container fluid={true}>\n      <Row>\n        <Col xs='12'>\n          <div className='login-card'>\n            <div>\n              <div>\n                <a className='logo' href='#javascript'>\n                  <img\n                    className='img-fluid for-light'\n                    src={logo}\n                    alt='looginpage'\n                  />\n                  <img\n                    className='img-fluid for-dark'\n                    src={require(\"../../assets/images/logo/logo_dark.png\")}\n                    alt='looginpage'\n                  />\n                </a>\n              </div>\n              <div className='login-main'>\n                <Form className='theme-form'>\n                  <h4>{ResetPassword}</h4>\n                  <FormGroup>\n                    <FormGroup>\n                      <Label className='col-form-label'>{EmailAddress}</Label>\n                      <Input\n                        className='form-control'\n                        placeholder='test@gmail.com'\n                        onChange={(e) => getEmail(e)}\n                      />\n                    </FormGroup>\n                    <Row>\n                      <Col xs='12'>\n                        <Button\n                          color='primary'\n                          className='btn-block m-t-10'\n                          // type='submit'\n                          disabled={sendResetEmail}\n                          onClick={() => sendMail()}\n                        >\n                          {Send}\n                        </Button>\n                      </Col>\n                    </Row>\n                  </FormGroup>\n                  <div className='text-center mt-4 mb-4'>\n                    <span className='reset-password-link'>\n                      {\"If don't receive OTP?\"}  \n                      <a className='btn-link text-danger' href='#javascript'>\n                        {Resend}\n                      </a>\n                    </span>\n                  </div>\n                  <FormGroup>\n                    <Label className='col-form-label pt-0'>{EnterOTP}</Label>\n                    <Row>\n                      <Col>\n                        <Input\n                          className='form-control text-center opt-text'\n                          type='text'\n                          placeholder='00'\n                          maxLength='2'\n                          onChange={(e) => {\n                            getOtp1(e);\n                          }}\n                        />\n                      </Col>\n                      <Col>\n                        <Input\n                          className='form-control text-center opt-text'\n                          type='text'\n                          placeholder='00'\n                          maxLength='2'\n                          onChange={(e) => {\n                            getOtp2(e);\n                          }}\n                        />\n                      </Col>\n                      <Col>\n                        <Input\n                          className='form-control text-center opt-text'\n                          type='text'\n                          placeholder='00'\n                          maxLength='2'\n                          onChange={(e) => {\n                            getOtp3(e);\n                          }}\n                        />\n                      </Col>\n                    </Row>\n                  </FormGroup>\n                  <h6 className='mt-4'>{\"Create Your Password\"}</h6>\n                  <FormGroup>\n                    <Label className='col-form-label'>{NewPassword}</Label>\n                    <Input\n                      className='form-control'\n                      type={togglePassword ? \"text\" : \"password\"}\n                      name='login[password]'\n                      value={password}\n                      onChange={(e) => handleChange(e)}\n                      required=''\n                      placeholder='*********'\n                    />\n                    <div\n                      className='show-hide'\n                      onClick={() => HideShowPassword(togglePassword)}\n                    >\n                      <span className={togglePassword ? \"\" : \"show\"}></span>\n                    </div>\n                  </FormGroup>\n                  <FormGroup>\n                    <Label className='col-form-label'>\n                      {password === pass2 ? (\n                        RetypePassword\n                      ) : (\n                        <span style={{ color: \"red\" }}>{PasswordMismatch}</span>\n                      )}\n                    </Label>\n                    <Input\n                      className='form-control'\n                      type='password'\n                      name='login[password]'\n                      required=''\n                      placeholder='*********'\n                      onChange={(e) => getPass2(e)}\n                    />\n                  </FormGroup>\n                  <FormGroup className='mb-0'>\n                    <br />\n                    <Button\n                      color='primary'\n                      className='btn-block'\n                      disabled={openDone}\n                      onClick={() => confirmOTP()}\n                    >\n                      {Done}\n                    </Button>\n                  </FormGroup>\n                  <p className='mt-4 mb-0'>\n                    {\"Already have an password?\"}\n                    <Link className='ml-2' to='/cuba/login'>\n                      {SignIn}\n                    </Link>\n                  </p>\n                </Form>\n              </div>\n            </div>\n          </div>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Forgetpwd;\n"]},"metadata":{},"sourceType":"module"}