{"ast":null,"code":"import { CURRENT_USER } from \"../actionTypes\";\nimport axios from \"axios\";\nexport const current = () => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        authorization: localStorage.getItem(\"token\")\n      }\n    };\n    let result = await axios.get(`${process.env.PUBLIC_URL}/api/dashboard/default/current`, config);\n    console.log(`${process.env.PUBLIC_URL} hhahh`); // console.log(result.data.userLogged);\n\n    dispatch({\n      type: CURRENT_USER,\n      payload: result.data\n    }); //{msg , user}\n  } catch (error) {\n    localStorage.removeItem(\"token\");\n    window.location.href = `${process.env.PUBLIC_URL}/login`;\n  }\n};","map":{"version":3,"sources":["C:/Users/abirb/Downloads/Petoo/petoo-master/client/src/redux/currentUser/action.js"],"names":["CURRENT_USER","axios","current","dispatch","config","headers","authorization","localStorage","getItem","result","get","process","env","PUBLIC_URL","console","log","type","payload","data","error","removeItem","window","location","href"],"mappings":"AAAA,SAASA,YAAT,QAA6B,gBAA7B;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,OAAO,GAAG,MAAM,MAAOC,QAAP,IAAoB;AAC/C,MAAI;AACF,UAAMC,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADR;AADI,KAAf;AAKA,QAAIC,MAAM,GAAG,MAAMR,KAAK,CAACS,GAAN,CAChB,GAAEC,OAAO,CAACC,GAAR,CAAYC,UAAW,gCADT,EAEjBT,MAFiB,CAAnB;AAIAU,IAAAA,OAAO,CAACC,GAAR,CAAa,GAAEJ,OAAO,CAACC,GAAR,CAAYC,UAAW,QAAtC,EAVE,CAWF;;AACAV,IAAAA,QAAQ,CAAC;AAAEa,MAAAA,IAAI,EAAEhB,YAAR;AAAsBiB,MAAAA,OAAO,EAAER,MAAM,CAACS;AAAtC,KAAD,CAAR,CAZE,CAYsD;AACzD,GAbD,CAaE,OAAOC,KAAP,EAAc;AACdZ,IAAAA,YAAY,CAACa,UAAb,CAAwB,OAAxB;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAwB,GAAEZ,OAAO,CAACC,GAAR,CAAYC,UAAW,QAAjD;AACD;AACF,CAlBM","sourcesContent":["import { CURRENT_USER } from \"../actionTypes\";\n\nimport axios from \"axios\";\n\nexport const current = () => async (dispatch) => {\n  try {\n    const config = {\n      headers: {\n        authorization: localStorage.getItem(\"token\"),\n      },\n    };\n    let result = await axios.get(\n      `${process.env.PUBLIC_URL}/api/dashboard/default/current`,\n      config\n    );\n    console.log(`${process.env.PUBLIC_URL} hhahh`);\n    // console.log(result.data.userLogged);\n    dispatch({ type: CURRENT_USER, payload: result.data }); //{msg , user}\n  } catch (error) {\n    localStorage.removeItem(\"token\");\n    window.location.href = `${process.env.PUBLIC_URL}/login`;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}